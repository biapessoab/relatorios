{"ast":null,"code":"import _slicedToArray from\"/Users/anabeatrizbraz/Documents/Personal Projects/relatorios/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Summary(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),procedimentos=_useState2[0],setProcedimentos=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),cirurgias=_useState4[0],setCirurgias=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),percentage=_useState6[0],setPercentage=_useState6[1];// Estado para armazenar a porcentagem digitada pelo usuário\nvar _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),valorFinal=_useState8[0],setValorFinal=_useState8[1];// Estado para armazenar o valor final com base na porcentagem\nvar sumProcedimentos=0;// Move a declaração para o início da função\nvar sumCirurgias=0;// Move a declaração para o início da função\nuseEffect(function(){var procedimentosString=localStorage.getItem('procedimentos');var procedimentos=JSON.parse(procedimentosString);setProcedimentos(procedimentos);var cirurgiasString=localStorage.getItem('cirurgias');var cirurgias=JSON.parse(cirurgiasString);setCirurgias(cirurgias);},[]);useEffect(function(){var valorCalculado=(sumProcedimentos+sumCirurgias)*(1-percentage/100);if(percentage>=0&&percentage<=10){setValorFinal(valorCalculado);}else setValorFinal(sumProcedimentos+sumCirurgias);},[percentage,sumProcedimentos,sumCirurgias]);var procedimentosFiltrados=procedimentos.filter(function(item){return item.price>0;});var cirurgiasFiltradas=cirurgias.filter(function(item){return item.price>0;});return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"pt-12\",method:\"form\",action:\"/summary\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center text-4xl text-white mb-10\",children:\"Resumo\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center pb-6\",children:/*#__PURE__*/_jsxs(\"select\",{name:\"color\",id:\"color\",className:\"bg-white rounded-md text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"red\",children:\"Vermelho\"}),/*#__PURE__*/_jsx(\"option\",{value:\"yellow\",children:\"Amarelo\"}),/*#__PURE__*/_jsx(\"option\",{value:\"lime\",children:\"Verde\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"my-4 text-lg underline text-white underline-offset-4\",children:\"Procedimentos\"}),procedimentosFiltrados.map(function(item,index){sumProcedimentos+=item.price;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-white\",children:/*#__PURE__*/_jsxs(\"p\",{children:[item.nome,\" (\",item.quant,\"): R$ \",item.price]})},index),/*#__PURE__*/_jsx(\"hr\",{})]});}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-white text-end my-2\",children:[\"Soma = \",parseFloat(sumProcedimentos).toFixed(2)]}),/*#__PURE__*/_jsx(\"div\",{className:\"my-6 text-lg underline text-white underline-offset-4\",children:\"Cirurgias\"}),cirurgiasFiltradas.map(function(item,index){sumCirurgias+=parseInt(item.price);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-white\",children:/*#__PURE__*/_jsxs(\"p\",{children:[item.nome,\": R$ \",item.price]})},index),/*#__PURE__*/_jsx(\"hr\",{})]});}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-white text-end my-2\",children:[\"Soma = \",parseFloat(sumCirurgias).toFixed(2)]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 mb-2 text-lg underline text-white underline-offset-4\",children:\"Valor Final\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-white\",children:[\"R$: \",valorFinal.toFixed(2)]}),/*#__PURE__*/_jsx(\"label\",{className:\"text-white mr-2\",children:\"%\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"percentage\",className:\"border rounded-md p-1 w-12 my-4 inline-block bg-white text-black h-6\",value:percentage,onChange:function onChange(e){return setPercentage(e.target.value);}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 mb-2 text-lg underline text-white underline-offset-4\",children:\"Forma de Pagamento\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"color\",id:\"color\",className:\"bg-white rounded-md text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"aVista\",children:\"\\xC0 vista\"}),/*#__PURE__*/_jsx(\"option\",{value:\"parcelado\",children:\"Parcelado\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 mb-2 underline text-white underline-offset-4\",children:\"Detalhamento\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"p-1 rounded-md\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end text-white pt-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Pr\\xF3ximo\",className:\"border rounded-md p-1\"})})]})})});}export default Summary;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","Summary","_useState","_useState2","_slicedToArray","procedimentos","setProcedimentos","_useState3","_useState4","cirurgias","setCirurgias","_useState5","_useState6","percentage","setPercentage","_useState7","_useState8","valorFinal","setValorFinal","sumProcedimentos","sumCirurgias","procedimentosString","localStorage","getItem","JSON","parse","cirurgiasString","valorCalculado","procedimentosFiltrados","filter","item","price","cirurgiasFiltradas","children","className","method","action","name","id","value","map","index","nome","quant","parseFloat","toFixed","parseInt","type","onChange","e","target"],"sources":["/Users/anabeatrizbraz/Documents/Personal Projects/relatorios/src/pages/summary.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\nfunction Summary() {\n    const [procedimentos, setProcedimentos] = useState([]);\n    const [cirurgias, setCirurgias] = useState([]);\n    const [percentage, setPercentage] = useState(null); // Estado para armazenar a porcentagem digitada pelo usuário\n    const [valorFinal, setValorFinal] = useState(0); // Estado para armazenar o valor final com base na porcentagem\n\n    let sumProcedimentos = 0; // Move a declaração para o início da função\n    let sumCirurgias = 0; // Move a declaração para o início da função\n\n    useEffect(() => {\n        const procedimentosString = localStorage.getItem('procedimentos');\n        const procedimentos = JSON.parse(procedimentosString);\n        setProcedimentos(procedimentos);\n\n        const cirurgiasString = localStorage.getItem('cirurgias');\n        const cirurgias = JSON.parse(cirurgiasString);\n        setCirurgias(cirurgias);\n    }, []);\n\n    useEffect(() => {\n        const valorCalculado = (sumProcedimentos + sumCirurgias) * (1 - percentage / 100);\n        if (percentage >= 0 && percentage <= 10) {\n            setValorFinal(valorCalculado)\n        }\n        else setValorFinal(sumProcedimentos + sumCirurgias)\n    }, [percentage, sumProcedimentos, sumCirurgias]);\n\n    const procedimentosFiltrados = procedimentos.filter(item => item.price > 0);\n    const cirurgiasFiltradas = cirurgias.filter(item => item.price > 0);\n\n    return (\n        <div>\n            <div className=\"flex justify-center\">\n                <form className=\"pt-12\" method=\"form\" action=\"/summary\">\n                    <div className=\"flex justify-center text-4xl text-white mb-10\">Resumo</div>\n                    <div className=\"flex justify-center pb-6\">\n                        <select name=\"color\" id=\"color\" className=\"bg-white rounded-md text-sm\">\n                            <option value=\"red\">Vermelho</option>\n                            <option value=\"yellow\">Amarelo</option>\n                            <option value=\"lime\">Verde</option>\n                        </select>\n                    </div>\n                    <div className=\"my-4 text-lg underline text-white underline-offset-4\">Procedimentos</div>\n                    {procedimentosFiltrados.map((item, index) => {\n                        sumProcedimentos += item.price;\n                        return (\n                            <div>\n                                <div key={index} className=\"text-white\">\n                                    <p>{item.nome} ({item.quant}): R$ {item.price}</p>\n                                </div>\n                                <hr />\n                            </div>\n                        );\n                    })}\n                    <div className='text-white text-end my-2'>Soma = {parseFloat(sumProcedimentos).toFixed(2)}</div>\n                    <div className=\"my-6 text-lg underline text-white underline-offset-4\">Cirurgias</div>\n                    {cirurgiasFiltradas.map((item, index) => {\n                        sumCirurgias += parseInt(item.price);\n                        return (\n                            <div>\n                                <div key={index} className=\"text-white\">\n                                    <p>{item.nome}: R$ {item.price}</p>\n                                </div>\n                                <hr />\n                            </div>\n                        );\n                    })}\n                    <div className='text-white text-end my-2'>Soma = {parseFloat(sumCirurgias).toFixed(2)}</div>\n                    <div className=\"mt-6 mb-2 text-lg underline text-white underline-offset-4\">Valor Final</div>\n                    <div className='text-white'>R$: {valorFinal.toFixed(2)}</div>\n                    <label className='text-white mr-2'>%</label>\n                    <input\n                        type=\"number\"\n                        id=\"percentage\"\n                        className=\"border rounded-md p-1 w-12 my-4 inline-block bg-white text-black h-6\"\n                        value={percentage}\n                        onChange={(e) => setPercentage(e.target.value)}\n                    />\n                    <div>\n                        <div className=\"mt-6 mb-2 text-lg underline text-white underline-offset-4\">Forma de Pagamento</div>\n                        <select name=\"color\" id=\"color\" className=\"bg-white rounded-md text-sm\">\n                            <option value=\"aVista\">À vista</option>\n                            <option value=\"parcelado\">Parcelado</option>\n                        </select>\n                    </div>\n                    <div>\n                        <div className=\"mt-6 mb-2 underline text-white underline-offset-4\">Detalhamento</div>\n                        <input type='text' className='p-1 rounded-md'></input>\n                    </div>\n                    <div className=\"flex justify-end text-white pt-4\">\n                        <input type=\"submit\" value=\"Próximo\" className=\"border rounded-md p-1\" />\n                    </div>\n                </form>\n            </div>\n        </div>\n    );\n}\n\nexport default Summary;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}