{"ast":null,"code":"import _slicedToArray from\"/Users/anabeatrizbraz/Documents/Personal Projects/relatorios/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Summary(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),procedimentos=_useState2[0],setProcedimentos=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),cirurgias=_useState4[0],setCirurgias=_useState4[1];var _useState5=useState('red'),_useState6=_slicedToArray(_useState5,2),colorProcedimentos=_useState6[0],setColorProcedimentos=_useState6[1];var _useState7=useState('blue'),_useState8=_slicedToArray(_useState7,2),colorCirurgias=_useState8[0],setColorCirurgias=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),percentage=_useState10[0],setPercentage=_useState10[1];// Estado para armazenar a porcentagem digitada pelo usuário\nvar _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),valorFinal=_useState12[0],setValorFinal=_useState12[1];// Estado para armazenar o valor final com base na porcentagem\nvar sumProcedimentos=0;// Move a declaração para o início da função\nvar sumCirurgias=0;// Move a declaração para o início da função\nuseEffect(function(){var procedimentosString=localStorage.getItem('procedimentos');var procedimentos=JSON.parse(procedimentosString);setProcedimentos(procedimentos);var colorProcedimentosString=localStorage.getItem('colorProcedimentos');var colorProcedimentos=JSON.parse(colorProcedimentosString);setColorProcedimentos(colorProcedimentos);var cirurgiasString=localStorage.getItem('cirurgias');var cirurgias=JSON.parse(cirurgiasString);setCirurgias(cirurgias);var colorCirurgiasString=localStorage.getItem('colorCirurgias');var colorCirurgias=JSON.parse(colorCirurgiasString);setColorCirurgias(colorCirurgias);},[]);useEffect(function(){var valorCalculado=(sumProcedimentos+sumCirurgias)*(1-percentage/100);if(percentage>=0&&percentage<=10){setValorFinal(valorCalculado);}else setValorFinal(sumProcedimentos+sumCirurgias);},[percentage,sumProcedimentos,sumCirurgias]);var procedimentosFiltrados=procedimentos.filter(function(item){return item.price>0;});var cirurgiasFiltradas=cirurgias.filter(function(item){return item.price>0;});var procedimentosStyle={textDecorationColor:colorProcedimentos};var cirurgiasStyle={textDecorationColor:colorCirurgias};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"pt-12\",method:\"form\",action:\"/summary\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center text-4xl text-white mb-10\",children:\"Resumo\"}),/*#__PURE__*/_jsx(\"div\",{className:\"my-6 text-lg underline text-white underline-offset-4\",style:procedimentosStyle,children:\"Procedimentos\"}),procedimentosFiltrados.map(function(item,index){sumProcedimentos+=item.price;// Adiciona o preço do procedimento atual ao total\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"text-white\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[item.nome,\" (\",item.quant,\"): R$ \",item.price]}),/*#__PURE__*/_jsx(\"hr\",{})]},index);}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-white text-end my-2\",children:[\"Soma = \",parseFloat(sumProcedimentos).toFixed(2)]}),/*#__PURE__*/_jsx(\"div\",{className:\"my-6 text-lg underline text-white underline-offset-4\",style:cirurgiasStyle,children:\"Cirurgias\"}),cirurgiasFiltradas.map(function(item,index){sumCirurgias+=parseInt(item.price);return/*#__PURE__*/_jsxs(\"div\",{className:\"text-white\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[item.nome,\": R$ \",item.price]}),/*#__PURE__*/_jsx(\"hr\",{})]},index);}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-white text-end my-2\",children:[\"Soma = \",parseFloat(sumCirurgias).toFixed(2)]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 mb-2 text-lg underline text-white underline-offset-4\",children:\"Valor Final\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-white\",children:[\"R$: \",valorFinal.toFixed(2)]}),/*#__PURE__*/_jsx(\"label\",{className:\"text-white mr-2\",children:\"%\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"percentage\",className:\"border rounded-md p-1 w-12 my-4 inline-block bg-white text-black h-6 text-center\",value:percentage,onChange:function onChange(e){return setPercentage(e.target.value);}}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end text-white pt-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Pr\\xF3ximo\",className:\"border rounded-md p-1\"})})]})})});}export default Summary;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","Summary","_useState","_useState2","_slicedToArray","procedimentos","setProcedimentos","_useState3","_useState4","cirurgias","setCirurgias","_useState5","_useState6","colorProcedimentos","setColorProcedimentos","_useState7","_useState8","colorCirurgias","setColorCirurgias","_useState9","_useState10","percentage","setPercentage","_useState11","_useState12","valorFinal","setValorFinal","sumProcedimentos","sumCirurgias","procedimentosString","localStorage","getItem","JSON","parse","colorProcedimentosString","cirurgiasString","colorCirurgiasString","valorCalculado","procedimentosFiltrados","filter","item","price","cirurgiasFiltradas","procedimentosStyle","textDecorationColor","cirurgiasStyle","children","className","method","action","style","map","index","nome","quant","parseFloat","toFixed","parseInt","type","id","value","onChange","e","target"],"sources":["/Users/anabeatrizbraz/Documents/Personal Projects/relatorios/src/pages/summary.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\nfunction Summary() {\n    const [procedimentos, setProcedimentos] = useState([]);\n    const [cirurgias, setCirurgias] = useState([]);\n    const [colorProcedimentos, setColorProcedimentos] = useState('red');\n    const [colorCirurgias, setColorCirurgias] = useState('blue');\n    const [percentage, setPercentage] = useState(null); // Estado para armazenar a porcentagem digitada pelo usuário\n    const [valorFinal, setValorFinal] = useState(0); // Estado para armazenar o valor final com base na porcentagem\n\n    let sumProcedimentos = 0; // Move a declaração para o início da função\n    let sumCirurgias = 0; // Move a declaração para o início da função\n\n    useEffect(() => {\n        const procedimentosString = localStorage.getItem('procedimentos');\n        const procedimentos = JSON.parse(procedimentosString);\n        setProcedimentos(procedimentos);\n\n        const colorProcedimentosString = localStorage.getItem('colorProcedimentos');\n        const colorProcedimentos = JSON.parse(colorProcedimentosString);\n        setColorProcedimentos(colorProcedimentos);\n\n        const cirurgiasString = localStorage.getItem('cirurgias');\n        const cirurgias = JSON.parse(cirurgiasString);\n        setCirurgias(cirurgias);\n\n        const colorCirurgiasString = localStorage.getItem('colorCirurgias');\n        const colorCirurgias = JSON.parse(colorCirurgiasString);\n        setColorCirurgias(colorCirurgias);\n    }, []);\n\n    useEffect(() => {\n        const valorCalculado = (sumProcedimentos + sumCirurgias) * (1 - percentage / 100);\n        if(percentage>=0 && percentage<=10) { \n            setValorFinal(valorCalculado)\n        }\n        else setValorFinal (sumProcedimentos + sumCirurgias)\n    }, [percentage, sumProcedimentos, sumCirurgias]);\n\n    const procedimentosFiltrados = procedimentos.filter(item => item.price > 0);\n    const cirurgiasFiltradas = cirurgias.filter(item => item.price > 0);\n\n    const procedimentosStyle = {\n        textDecorationColor: colorProcedimentos,\n    };\n\n    const cirurgiasStyle = {\n        textDecorationColor: colorCirurgias,\n    };\n\n    return (\n        <div>\n            <div className=\"flex justify-center\">\n                <form className=\"pt-12\" method=\"form\" action=\"/summary\">\n                    <div className=\"flex justify-center text-4xl text-white mb-10\">Resumo</div>\n                    <div className=\"my-6 text-lg underline text-white underline-offset-4\" style={procedimentosStyle}>Procedimentos</div>\n                    {procedimentosFiltrados.map((item, index) => {\n                        sumProcedimentos += item.price; // Adiciona o preço do procedimento atual ao total\n                        return (\n                            <div key={index} className=\"text-white\">\n                                <p>{item.nome} ({item.quant}): R$ {item.price}</p>\n                                <hr />\n                            </div>\n                        );\n                    })}\n                    <div className='text-white text-end my-2'>Soma = {parseFloat(sumProcedimentos).toFixed(2)}</div>\n                    <div className=\"my-6 text-lg underline text-white underline-offset-4\" style={cirurgiasStyle}>Cirurgias</div>\n                    {cirurgiasFiltradas.map((item, index) => {\n                        sumCirurgias += parseInt(item.price);\n                        return (\n                            <div key={index} className=\"text-white\">\n                                <p>{item.nome}: R$ {item.price}</p>\n                                <hr />\n                            </div>\n                        );\n                    })}\n                    <div className='text-white text-end my-2'>Soma = {parseFloat(sumCirurgias).toFixed(2)}</div>\n                    <div className=\"mt-6 mb-2 text-lg underline text-white underline-offset-4\">Valor Final</div>\n                    <div className='text-white'>R$: {valorFinal.toFixed(2)}</div>\n                    <label className='text-white mr-2'>%</label>\n                    <input\n                        type=\"number\"\n                        id=\"percentage\"\n                        className=\"border rounded-md p-1 w-12 my-4 inline-block bg-white text-black h-6 text-center\"\n                        value={percentage}\n                        onChange={(e) => setPercentage(e.target.value)}\n                    />\n                    <div className=\"flex justify-end text-white pt-4\">\n                        <input type=\"submit\" value=\"Próximo\" className=\"border rounded-md p-1\" />\n                    </div>\n                </form>\n            </div>\n        </div>\n    );\n}\n\nexport default Summary;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}